@import models.individualDetails.IndividualDetails

        @this()

        @(individualDetails: IndividualDetails, date: String, lang: String)(implicit messages: Messages)


        <!-- example for a simple fo file. At the beginning the page layout is set.
          Below fo:root there is always
        - a single fo:layout-master-set which defines one or more page layouts
        - an optional fo:declarations
        - and a sequence of one or more fo:page-sequences containing the text and formatting instructions
        -->

<fo:root
        xmlns:fo="http://www.w3.org/1999/XSL/Format"
        xmlns:fox="http://xmlgraphics.apache.org/fop/extensions"
        font-family="OpenSans"
        font-size="10.5pt"
        line-height="12pt"
        xml:lang="@lang"
>

    <fo:layout-master-set>
        <!-- fo:layout-master-set defines in its children the page layout:
             the pagination and layout specifications
            - page-masters: have the role of describing the intended subdivisions
                             of a page and the geometry of these subdivisions
                            In this case there is only a simple-page-master which defines the
                            layout for all pages of the text
        -->

        <!-- layout for the first page -->
        <fo:simple-page-master master-name="first"
                               page-height="29.7cm"
                               page-width="21cm"
                               margin-top="0.5cm"
                               margin-bottom="0.5cm"
                               margin-left="2.2cm"
                               margin-right="2.2cm">
            <fo:region-body margin-top="0.7cm"/>
            <fo:region-before extent="0.5cm"/>
            <fo:region-after extent="0.6cm"/>
        </fo:simple-page-master>

        <!-- layout for the other pages -->
        <fo:simple-page-master master-name="rest"
                               page-height="29.7cm"
                               page-width="21cm"
                               margin-top="0.5cm"
                               margin-bottom="0.5cm"
                               margin-left="2.2cm"
                               margin-right="2.2cm">
            <fo:region-body margin-top="0.5cm"/>
            <fo:region-before extent="0.5cm"/>
            <fo:region-after extent="0.6cm"/>
        </fo:simple-page-master>

        <fo:page-sequence-master master-name="basicPSM">
            <fo:repeatable-page-master-alternatives>
                <fo:conditional-page-master-reference master-reference="first"
                                                      page-position="first"/>
                <fo:conditional-page-master-reference master-reference="rest"
                                                      page-position="rest"/>
                <!-- recommended fallback procedure -->
                <fo:conditional-page-master-reference master-reference="rest"/>
            </fo:repeatable-page-master-alternatives>
        </fo:page-sequence-master>

    </fo:layout-master-set>
    <!-- end: defines page layout -->

    <!-- Document metadata -->
    <fo:declarations>
        <x:xmpmeta xmlns:x="adobe:ns:meta/">
            <rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
                <rdf:Description xmlns:dc="http://purl.org/dc/elements/1.1/">
                    <dc:title>
                        @Messages("label.your_national_insurance_number_letter")
                    </dc:title>
                </rdf:Description>
            </rdf:RDF>
        </x:xmpmeta>
    </fo:declarations>
    <!-- end Document metadata -->

    <fo:bookmark-tree>
        <fo:bookmark internal-destination="heading-h1-1">
            <fo:bookmark-title>@Messages("label.your_national_insurance_number")</fo:bookmark-title>
            <fo:bookmark internal-destination="heading-h1-1-h2-1">
                <fo:bookmark-title>@messages("label.your_national_insurance_number_is")</fo:bookmark-title>
            </fo:bookmark>
        </fo:bookmark>
    </fo:bookmark-tree>

    <!-- start page-sequence
         here comes the text (contained in flow objects)
         the page-sequence can contain different fo:flows
         the attribute value of master-name refers to the page layout
         which is to be used to layout the text contained in this
         page-sequence-->
    <fo:page-sequence master-reference="basicPSM">

        <!-- footer -->
        <fo:static-content role="artifact" flow-name="xsl-region-after">
            <fo:block font-size="9pt"
                      line-height="14pt">
                <!-- date -->
                <fo:block text-align="end">
                    @Messages("label.hmrc_date", date)
                </fo:block>
            </fo:block>
        </fo:static-content>
        <!-- end footer -->
        <fo:flow flow-name="xsl-region-body">

            <!-- logo and heading -->
            <fo:block role="Div" space-after="-3px">
                <fo:inline-container role="Div" inline-progression-dimension="23%">
                    <fo:block role="Div"
                              border-left-style="solid"
                              border-width="1.5px"
                              border-color="#28a197"
                              padding-start="4px">
                        <fo:external-graphic src="url('file:pdf/logo/hmrc.pdf')"
                                                 content-height="scale-to-fit"
                                                 content-width="0.8cm"
                                                 role="Artifact"
                                                 fox:alt-text="@Messages("label.alt.hmrc_logo")"
                            />
                        <fo:block role="P"
                                  line-height="14pt"
                                  font-size="14pt"
                                  padding-before="-14px"
                                  linefeed-treatment="preserve">
                            @Messages("label.hm_revenue_customs_ni_print.revenue.pdf")
                            @Messages("label.hm_revenue_customs_ni_print.customs.pdf")
                        </fo:block>
                    </fo:block>
                </fo:inline-container>
                <fo:inline-container role="Div" inline-progression-dimension="76%">
                    <fo:block role="H1"
                              text-align="end"
                              padding-before="10px"
                              padding-after="6px"
                              font-family="OpenSans-Bold"
                              font-weight="bold"
                              id="heading-h1-1">
                        @Messages("label.your_national_insurance_number")
                    </fo:block>
                </fo:inline-container>
            </fo:block>
            <!-- end logo and heading -->

            <!-- Addresses -->
            <fo:block role="Div">
                <fo:inline-container role="Div" inline-progression-dimension="62%">
                    <fo:block>
                        <fo:block role="P">
                            <fo:block>@individualDetails.getInitialsName</fo:block>
                        </fo:block>
                        @individualDetails.getAddressLines.map { line =>
                        <fo:block role="P">
                            <fo:block>@line</fo:block>
                        </fo:block>
                        }
                        <fo:block role="P">
                            <fo:block>@individualDetails.getPostCode.getOrElse("").toUpperCase</fo:block>
                        </fo:block>
                    </fo:block>
                </fo:inline-container>
                <fo:inline-container role="Div" inline-progression-dimension="37%">
                    <fo:block>
                        <fo:block role="P">
                            <fo:block>
                                @Messages("label.nic_eo_hmrc_address.line1.pdf")
                            </fo:block>
                        </fo:block>
                        <fo:block role="P">
                            <fo:block>
                                @Messages("label.nic_eo_hmrc_address.line2")
                            </fo:block>
                        </fo:block>
                        @if(lang.eq("cy")) {
                        <fo:block role="P">
                            <fo:block>
                                @Messages("label.nic_eo_hmrc_address.line3")
                            </fo:block>
                        </fo:block>
                        }
                        <fo:block role="P">
                                @Messages("label.nic_eo_hmrc_address.postcode")
                        </fo:block>
                        <fo:block role="P"
                                  padding-after="4px"
                                  padding-before="4px">
                            @Messages("label.phone_text")
                            @Messages("label.contact_number")
                        </fo:block>
                        <fo:block role="P">
                            <fo:basic-link color="#1F70B8"
                                           external-destination='https://@Messages("label.www_gov_uk_hmrc")'
                                           text-decoration="underline"
                                           role="Link"
                                           fox:alt-text="@Message("label.alt.www_gov_uk_hmrc")">
                                @messages("label.www_gov_uk_hmrc")
                            </fo:basic-link>
                        </fo:block>
                    </fo:block>
                </fo:inline-container>
            </fo:block>
            <!-- end Addresses -->

            <!-- name and title -->
            <fo:block padding-after="6px"
                      padding-before="6px">
                @individualDetails.getFullName
            </fo:block>
            <fo:block role="P"
                      space-after="10px"
                      padding-before="6px"
                      padding-after="6px">
                @messages("label.letter.to.phone")
            </fo:block>
            <!-- end name and title -->

            <!-- NINO number box -->
            <fo:block role="Div"
                      space-after="10px"
                      color="#28a197"
                      font-family="OpenSans-Bold"
                      font-weight="bold">
                <fo:inline role="H2"
                          font-size="14pt"
                          padding-before="8px"
                          padding-after="6px"
                          id="heading-h1-1-h2-1">
                    @Messages("label.your_national_insurance_number_is")
                </fo:inline>
                <fo:inline role="P"
                    font-size="20pt">
                    @individualDetails.nino.grouped(2).mkString(" ")
                </fo:inline>

            </fo:block>
            <!-- end NINO number box -->

            <!-- about NINO information -->
                <fo:block role="P"
                          space-after="6px"
                          padding-before="4px"
                          padding-after="4px">
                    @Messages("label.letter.important.paragraph")
                </fo:block>
                <fo:block role="P"
                          space-after="5px"
                          padding-before="4px"
                          padding-after="4px">
                    @Messages("label.letter.need.if")
                </fo:block>
                <fo:list-block role="L" 
                               provisional-distance-between-starts="0.3cm"
                               font-size="11pt"
                               line-height="11pt">
                    <fo:list-item padding-after="3px"
                                  padding-before="3px"
                                  role="LI">
                        <fo:list-item-label role="Lbl" end-indent="1em">
                            <fo:block>
                                <fo:inline>
                                    <fo:wrapper role="artifact">
                                        &#8226;
                                    </fo:wrapper>
                                </fo:inline>
                            </fo:block>
                        </fo:list-item-label>
                        <fo:list-item-body role="LBody" start-indent="2em">
                            <fo:block>
                                <fo:block>
                                    @Messages("label.letter.need.work")
                                </fo:block>
                            </fo:block>
                        </fo:list-item-body>
                    </fo:list-item>
                    <fo:list-item padding-after="3px"
                                  padding-before="3px"
                                  role="LI">
                        <fo:list-item-label role="Lbl" end-indent="1em">
                            <fo:block>
                                <fo:inline>
                                    <fo:wrapper role="artifact">
                                        &#8226;
                                    </fo:wrapper>
                                </fo:inline>
                            </fo:block>
                        </fo:list-item-label>
                        <fo:list-item-body role="LBody" start-indent="2em">
                            <fo:block>
                                <fo:block>
                                    @Messages("label.letter.need.apply")
                                </fo:block>
                            </fo:block>
                        </fo:list-item-body>
                    </fo:list-item>
                    <fo:list-item padding-after="3px"
                                  padding-before="3px"
                                  role="LI">
                        <fo:list-item-label role="Lbl" end-indent="1em">
                            <fo:block>
                                <fo:inline>
                                    <fo:wrapper role="artifact">
                                        &#8226;
                                    </fo:wrapper>
                                </fo:inline>
                            </fo:block>
                        </fo:list-item-label>
                        <fo:list-item-body role="LBody" start-indent="2em">
                            <fo:block>
                                <fo:block>
                                    @Messages("label.letter.need.register")
                                </fo:block>
                            </fo:block>
                        </fo:list-item-body>
                    </fo:list-item>
                </fo:list-block>
                <fo:block role="P"
                          space-after="6px"
                          padding-before="6px">
                    @Messages("label.letter.more.details")
                </fo:block>

                <fo:block role="H2"
                          font-family="OpenSans-Bold"
                          font-weight="bold"
                          padding-before="12px" padding-after="6px">
                    <fo:block>
                        @Messages("label.letter.use.app.heading")
                    </fo:block>
                </fo:block>
                <fo:block role="P"
                          space-after="5px"
                          padding-before="6px"
                          padding-after="6px">
                    @Messages("label.letter.use.app.p1")
                </fo:block>
                <fo:block role="P"
                          space-after="4px"
                          padding-before="6px"
                          padding-after="6px">
                    @Messages("label.letter.use.app.p2")
                </fo:block>
                <fo:list-block role="L"
                               provisional-distance-between-starts="0.3cm"
                               font-size="10pt"
                               line-height="10pt">
                    <fo:list-item padding-after="3px"
                                  padding-before="3px"
                                  role="LI">
                        <fo:list-item-label role="Lbl" end-indent="1em">
                            <fo:block>
                                <fo:inline>
                                    <fo:wrapper role="artifact">
                                        &#8226;
                                    </fo:wrapper>
                                </fo:inline>
                            </fo:block>
                        </fo:list-item-label>
                        <fo:list-item-body role="LBody" start-indent="2em">
                            <fo:block>
                                @Messages("label.letter.use.app.l1")
                            </fo:block>
                        </fo:list-item-body>
                    </fo:list-item>
                    <fo:list-item padding-after="3px"
                                  padding-before="3px"
                                  role="LI">
                        <fo:list-item-label role="Lbl" end-indent="1em">
                            <fo:block>
                                <fo:inline>
                                    <fo:wrapper role="artifact">
                                        &#8226;
                                    </fo:wrapper>
                                </fo:inline>
                            </fo:block>
                        </fo:list-item-label>
                        <fo:list-item-body role="LBody" start-indent="2em">
                            <fo:block>
                                <fo:block>
                                    @Messages("label.letter.use.app.l2")
                                </fo:block>
                            </fo:block>
                        </fo:list-item-body>
                    </fo:list-item>
                </fo:list-block>
                <fo:block role="H2"
                          font-family="OpenSans-Bold"
                          font-weight="bold"
                          padding-before="12px"
                          padding-after="6px">
                    <fo:block>
                        @Messages("label.letter.child.trust.heading")
                    </fo:block>
                </fo:block>
                <fo:block role="P"
                          space-after="5px"
                          padding-before="6px">
                    @Messages("label.letter.child.trust.p")
                </fo:block>
                @if(lang.eq("en")) {
                    <fo:block role="H2"
                              font-family="OpenSans-Bold"
                              font-weight="bold"
                              padding-before="12px"
                              padding-after="6px">
                        <fo:block>
                            @Messages("label.letter.welsh.heading")
                        </fo:block>
                    </fo:block>
                    <fo:block role="P"
                              padding-before="6px">
                        <fo:block>
                            @Messages("label.letter.welsh.p.pdf")
                        </fo:block>
                    </fo:block>
                }
                <fo:block role="H2"
                          font-family="OpenSans-Bold"
                          font-weight="bold"
                          padding-before="12px"
                          padding-after="6px">
                    <fo:block>
                        @Messages("label.letter.protect.heading")
                    </fo:block>
                </fo:block>
                <fo:block role="P"
                          space-after="10px"
                          padding-before="6px"
                          padding-after="6px">
                    @Html(Messages("label.letter.protect.p.pdf"))
                </fo:block>
                <fo:block role="Div"
                          font-size="16pt"
                          line-height="16pt">
                    <fo:block role="P"
                              padding-before="4px"
                              padding-after="4px">
                        @Messages("label.information_is_available_in_large_print_audio_tape_and_braille_formats")
                    </fo:block>
                    <fo:block role="P"
                              padding-before="4px"
                              padding-after="4px">
                        @Messages("label.text_relay_service_prefix_number_18001")
                    </fo:block>
                </fo:block>

        </fo:flow> <!-- closes the flow element-->
    </fo:page-sequence> <!-- closes the page-sequence -->
</fo:root>