@import models.individualDetails.IndividualDetails

        @this()

        @(individualDetails: IndividualDetails, date: String, lang: String)(implicit messages: Messages)


        <!-- example for a simple fo file. At the beginning the page layout is set.
          Below fo:root there is always
        - a single fo:layout-master-set which defines one or more page layouts
        - an optional fo:declarations
        - and a sequence of one or more fo:page-sequences containing the text and formatting instructions
        -->

<fo:root
        xmlns:fo="http://www.w3.org/1999/XSL/Format"
        xmlns:fox="http://xmlgraphics.apache.org/fop/extensions"
        font-family="OpenSans"
        font-size="10.5pt"
        line-height="12pt"
        xml:lang="@lang"
>

    <fo:layout-master-set>
        <!-- fo:layout-master-set defines in its children the page layout:
             the pagination and layout specifications
            - page-masters: have the role of describing the intended subdivisions
                             of a page and the geometry of these subdivisions
                            In this case there is only a simple-page-master which defines the
                            layout for all pages of the text
        -->

        <!-- layout for the first page -->
        <fo:simple-page-master master-name="first"
                               page-height="29.7cm"
                               page-width="21cm"
                               margin-top="0.5cm"
                               margin-bottom="0.5cm"
                               margin-left="2.2cm"
                               margin-right="2.2cm">
            <fo:region-body margin-top="0.7cm"/>
            <fo:region-before extent="0.5cm"/>
            <fo:region-after extent="0.6cm"/>
        </fo:simple-page-master>

        <!-- layout for the other pages -->
        <fo:simple-page-master master-name="rest"
                               page-height="29.7cm"
                               page-width="21cm"
                               margin-top="0.5cm"
                               margin-bottom="0.5cm"
                               margin-left="2.2cm"
                               margin-right="2.2cm">
            <fo:region-body margin-top="0.5cm"/>
            <fo:region-before extent="0.5cm"/>
            <fo:region-after extent="0.6cm"/>
        </fo:simple-page-master>

        <fo:page-sequence-master master-name="basicPSM">
            <fo:repeatable-page-master-alternatives>
                <fo:conditional-page-master-reference master-reference="first"
                                                      page-position="first"/>
                <fo:conditional-page-master-reference master-reference="rest"
                                                      page-position="rest"/>
                <!-- recommended fallback procedure -->
                <fo:conditional-page-master-reference master-reference="rest"/>
            </fo:repeatable-page-master-alternatives>
        </fo:page-sequence-master>

    </fo:layout-master-set>
    <!-- end: defines page layout -->

    <!-- Document metadata -->
    <fo:declarations>
        <x:xmpmeta xmlns:x="adobe:ns:meta/">
            <rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
                <rdf:Description xmlns:dc="http://purl.org/dc/elements/1.1/">
                    <dc:title>
                        @Messages("label.your_national_insurance_number_letter")
                    </dc:title>
                </rdf:Description>
            </rdf:RDF>
        </x:xmpmeta>
    </fo:declarations>
    <!-- end Document metadata -->

    <fo:bookmark-tree>
        <fo:bookmark internal-destination="heading-h1-1">
            <fo:bookmark-title>@Messages("label.your_national_insurance_number")</fo:bookmark-title>
            <fo:bookmark internal-destination="heading-h1-1-h2-1">
                <fo:bookmark-title>@messages("label.your_national_insurance_number_is")</fo:bookmark-title>
            </fo:bookmark>
        </fo:bookmark>
    </fo:bookmark-tree>

    <!-- start page-sequence
         here comes the text (contained in flow objects)
         the page-sequence can contain different fo:flows
         the attribute value of master-name refers to the page layout
         which is to be used to layout the text contained in this
         page-sequence-->
    <fo:page-sequence master-reference="basicPSM">

        <!-- footer -->
        <fo:static-content role="artifact" flow-name="xsl-region-after">
            <fo:block font-size="9pt"
                      line-height="14pt">
                <!-- date -->
                <fo:block text-align="end">
                    @Messages("label.hmrc_date", date)
                </fo:block>
            </fo:block>
        </fo:static-content>
        <!-- end footer -->
        <fo:flow flow-name="xsl-region-body">

            <!-- logo and heading -->
            <fo:block role="Div" space-after="-3px">
                <fo:inline-container role="Div" inline-progression-dimension="23%">
                    <fo:block role="Div"
                              border-left-style="solid"
                              border-width="1.5px"
                              border-color="#28a197"
                              padding-start="4px">
                        <fo:wrapper role="artifact">
                            <fo:instream-foreign-object>
                                <svg data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" width="25px" height="25px" viewBox="0 0 45.35 45.35" focusable="false" aria-hidden="true">     <path class="cls-1" d="m28.5,16.6c.82-.34,1.22-1.29.88-2.12-.34-.83-1.3-1.24-2.12-.9-.84.34-1.23,1.31-.89,2.14.34.83,1.3,1.23,2.14.88Z"></path>
                                    <path class="cls-1" d="m22.06,19.36c-.84.34-1.23,1.31-.89,2.14.34.83,1.3,1.23,2.14.88.82-.34,1.22-1.29.88-2.12-.34-.83-1.3-1.24-2.12-.9Z"></path>
                                    <path class="cls-1" d="m32.86,19.2c.82-.34,1.22-1.29.88-2.12-.34-.83-1.3-1.24-2.12-.9-.84.34-1.23,1.31-.89,2.14.34.83,1.3,1.23,2.14.88Z"></path>
                                    <path class="cls-1" d="m33.62,22.63c.34.83,1.3,1.23,2.14.88.82-.34,1.22-1.29.88-2.12-.34-.83-1.3-1.24-2.12-.9-.84.34-1.23,1.31-.89,2.14Z"></path>
                                    <path class="cls-1" d="m21.81,11.4c.06.08.13.15.21.21l-1.19,3.58s0,0,0,.01h0s0,0,0,0c-.06.18-.09.37-.09.56,0,.97.71,1.77,1.64,1.9.01,0,.03,0,.04,0,.08.01.16.02.24.02h0c.08,0,.16,0,.24-.02.01,0,.03,0,.04,0,.93-.14,1.64-.94,1.64-1.9,0-.2-.03-.39-.08-.56h0s0,0,0,0c0,0,0,0,0-.01l-1.19-3.58c.08-.06.15-.13.21-.21h0s2.06,1.08,2.06,1.08v-3.04l-2.06.65h0c-.06-.08-.12-.15-.2-.21h0s.83-2.62.83-2.62h-1.49s-1.49,0-1.49,0l.83,2.61h0c-.08.06-.14.13-.2.21h0s-2.06-.65-2.06-.65v3.04l2.06-1.08h0Z"></path>
                                    <path class="cls-1" d="m16.83,16.6c.84.35,1.79-.05,2.14-.88.34-.83-.05-1.79-.89-2.14-.82-.34-1.78.07-2.12.9-.34.83.05,1.78.88,2.12Z"></path>
                                    <path class="cls-1" d="m12.46,19.2c.84.35,1.79-.05,2.14-.88.34-.83-.05-1.79-.89-2.14-.82-.34-1.78.07-2.12.9-.34.83.05,1.78.88,2.12Z"></path>
                                    <path class="cls-1" d="m9.57,23.51c.84.35,1.79-.05,2.14-.88.34-.83-.05-1.79-.89-2.14-.82-.34-1.78.07-2.12.9-.34.83.05,1.78.88,2.12Z"></path>
                                    <path class="cls-1" d="m34.61,25.35c.22,1.12.26,1.65,0,2.37-.37-.36-.71-1.01-.98-2.02l-1.07,3.57c.65-.45,1.16-.74,1.73-.75-1.02,2.2-2.3,2.77-3.12,2.61-1.01-.19-1.47-1.09-1.32-1.85.23-1.08,1.34-1.36,1.86-.11.99-2.02-.69-2.65-1.77-2.05,1.66-1.66,1.85-3.13.51-4.92-1.87,1.43-1.89,2.84-1.05,4.84-1.09-1.25-2.79-.58-2.18,1.44.79-1.22,1.83-.45,1.67.71-.14,1.01-1.47,1.82-3.13,1.68-2.38-.22-2.52-1.86-2.58-3.21.58-.11,1.64.43,2.53,1.69l.33-3.79c-.98,1.02-1.86,1.21-2.85,1.24.33-1.02,1.84-2.7,1.84-2.7h-4.73s1.51,1.68,1.84,2.7c-.99-.03-1.87-.22-2.85-1.24l.33,3.79c.9-1.26,1.95-1.8,2.53-1.69-.06,1.36-.2,3-2.58,3.21-1.66.14-2.99-.67-3.13-1.68-.16-1.16.88-1.92,1.67-.71.61-2.02-1.09-2.69-2.18-1.44.84-1.99.82-3.41-1.05-4.84-1.34,1.78-1.15,3.26.51,4.92-1.08-.6-2.76.03-1.77,2.05.52-1.26,1.63-.98,1.86.11.16.76-.31,1.66-1.32,1.85-.83.15-2.1-.41-3.12-2.61.58.01,1.08.3,1.73.75l-1.07-3.57c-.27,1-.62,1.66-.98,2.02-.25-.72-.21-1.25,0-2.37l-2.21.79c1.18,1.6,2.31,3.86,3.25,7.79,3.29-.47,6.99-.74,10.9-.74s7.61.26,10.9.74c.94-3.93,2.07-6.19,3.25-7.79l-2.21-.79Z"></path>
                                    <path class="cls-1" d="m22.68.57C10.47.57.57,10.47.57,22.68s9.9,22.11,22.11,22.11,22.11-9.9,22.11-22.11S34.89.57,22.68.57Zm0,41.69c-10.81,0-19.58-8.77-19.58-19.58S11.86,3.1,22.68,3.1s19.58,8.77,19.58,19.58-8.77,19.58-19.58,19.58Z"></path>
                                </svg>
                            </fo:instream-foreign-object>
                        </fo:wrapper>
                        <fo:block role="P"
                                  line-height="14pt"
                                  font-size="14pt"
                                  padding-before="-14px"
                                  linefeed-treatment="preserve">
                            @Messages("label.hm_revenue_customs_ni_print.revenue.pdf")
                            @Messages("label.hm_revenue_customs_ni_print.customs.pdf")
                        </fo:block>
                    </fo:block>
                </fo:inline-container>
                <fo:inline-container role="Div" inline-progression-dimension="76%">
                    <fo:block role="H1"
                              text-align="end"
                              padding-before="10px"
                              padding-after="6px"
                              font-family="OpenSans-Bold"
                              font-weight="bold"
                              id="heading-h1-1">
                        @Messages("label.your_national_insurance_number")
                    </fo:block>
                </fo:inline-container>
            </fo:block>
            <!-- end logo and heading -->

            <!-- Addresses -->
            <fo:block role="Div">
                <fo:inline-container role="Div" inline-progression-dimension="62%">
                    <fo:block>
                        <fo:block role="P">
                            <fo:block>@individualDetails.getInitialsName</fo:block>
                        </fo:block>
                        @individualDetails.getAddressLines.map { line =>
                        <fo:block role="P">
                            <fo:block>@line</fo:block>
                        </fo:block>
                        }
                        <fo:block role="P">
                            <fo:block>@individualDetails.getPostCode.getOrElse("").toUpperCase</fo:block>
                        </fo:block>
                    </fo:block>
                </fo:inline-container>
                <fo:inline-container role="Div" inline-progression-dimension="37%">
                    <fo:block>
                        <fo:block role="P">
                            <fo:block>
                                @Messages("label.nic_eo_hmrc_address.line1.pdf")
                            </fo:block>
                        </fo:block>
                        <fo:block role="P">
                            <fo:block>
                                @Messages("label.nic_eo_hmrc_address.line2")
                            </fo:block>
                        </fo:block>
                        @if(lang.eq("cy")) {
                        <fo:block role="P">
                            <fo:block>
                                @Messages("label.nic_eo_hmrc_address.line3")
                            </fo:block>
                        </fo:block>
                        }
                        <fo:block role="P">
                                @Messages("label.nic_eo_hmrc_address.postcode")
                        </fo:block>
                        <fo:block role="P"
                                  padding-after="4px"
                                  padding-before="4px">
                            @Messages("label.phone_text")
                            @Messages("label.contact_number")
                        </fo:block>
                        <fo:block role="P">
                            <fo:basic-link color="#1F70B8"
                                           external-destination='https://@Messages("label.www_gov_uk_hmrc")'
                                           text-decoration="underline"
                                           role="Link"
                                           fox:alt-text="@Message("label.alt.www_gov_uk_hmrc")">
                                @messages("label.www_gov_uk_hmrc")
                            </fo:basic-link>
                        </fo:block>
                    </fo:block>
                </fo:inline-container>
            </fo:block>
            <!-- end Addresses -->

            <!-- name and title -->
            <fo:block padding-after="6px"
                      padding-before="6px">
                @individualDetails.getFullName
            </fo:block>
            <fo:block role="P"
                      space-after="10px"
                      padding-before="6px"
                      padding-after="6px">
                @messages("label.letter.to.phone")
            </fo:block>
            <!-- end name and title -->

            <!-- NINO number box -->
            <fo:block role="Div"
                      space-after="10px"
                      color="#28a197"
                      font-family="OpenSans-Bold"
                      font-weight="bold">
                <fo:inline role="H2"
                          font-size="14pt"
                          padding-before="8px"
                          padding-after="6px"
                          id="heading-h1-1-h2-1">
                    @Messages("label.your_national_insurance_number_is")
                </fo:inline>
                <fo:inline role="P"
                    font-size="20pt">
                    @individualDetails.nino.grouped(2).mkString(" ")
                </fo:inline>

            </fo:block>
            <!-- end NINO number box -->

            <!-- about NINO information -->
                <fo:block role="P"
                          space-after="6px"
                          padding-before="4px"
                          padding-after="4px">
                    @Messages("label.letter.important.paragraph")
                </fo:block>
                <fo:block role="P"
                          space-after="5px"
                          padding-before="4px"
                          padding-after="4px">
                    @Messages("label.letter.need.if")
                </fo:block>
                <fo:list-block role="L" 
                               provisional-distance-between-starts="0.3cm"
                               font-size="11pt"
                               line-height="11pt">
                    <fo:list-item padding-after="3px"
                                  padding-before="3px"
                                  role="LI">
                        <fo:list-item-label role="Lbl" end-indent="1em">
                            <fo:block>
                                <fo:inline>
                                    <fo:wrapper role="artifact">
                                        &#8226;
                                    </fo:wrapper>
                                </fo:inline>
                            </fo:block>
                        </fo:list-item-label>
                        <fo:list-item-body role="LBody" start-indent="2em">
                            <fo:block>
                                <fo:block>
                                    @Messages("label.letter.need.work")
                                </fo:block>
                            </fo:block>
                        </fo:list-item-body>
                    </fo:list-item>
                    <fo:list-item padding-after="3px"
                                  padding-before="3px"
                                  role="LI">
                        <fo:list-item-label role="Lbl" end-indent="1em">
                            <fo:block>
                                <fo:inline>
                                    <fo:wrapper role="artifact">
                                        &#8226;
                                    </fo:wrapper>
                                </fo:inline>
                            </fo:block>
                        </fo:list-item-label>
                        <fo:list-item-body role="LBody" start-indent="2em">
                            <fo:block>
                                <fo:block>
                                    @Messages("label.letter.need.apply")
                                </fo:block>
                            </fo:block>
                        </fo:list-item-body>
                    </fo:list-item>
                    <fo:list-item padding-after="3px"
                                  padding-before="3px"
                                  role="LI">
                        <fo:list-item-label role="Lbl" end-indent="1em">
                            <fo:block>
                                <fo:inline>
                                    <fo:wrapper role="artifact">
                                        &#8226;
                                    </fo:wrapper>
                                </fo:inline>
                            </fo:block>
                        </fo:list-item-label>
                        <fo:list-item-body role="LBody" start-indent="2em">
                            <fo:block>
                                <fo:block>
                                    @Messages("label.letter.need.register")
                                </fo:block>
                            </fo:block>
                        </fo:list-item-body>
                    </fo:list-item>
                </fo:list-block>
                <fo:block role="P"
                          space-after="6px"
                          padding-before="6px"
                          padding-after="6px">
                    @Messages("label.letter.more.details")
                </fo:block>

                <fo:block role="H2"
                          font-family="OpenSans-Bold"
                          font-weight="bold"
                          padding-before="8px" padding-after="6px">
                    <fo:block>
                        @Messages("label.letter.use.app.heading")
                    </fo:block>
                </fo:block>
                <fo:block role="P"
                          space-after="5px"
                          padding-before="6px"
                          padding-after="6px">
                    @Messages("label.letter.use.app.p1")
                </fo:block>
                <fo:block role="P"
                          space-after="4px"
                          padding-before="6px"
                          padding-after="6px">
                    @Messages("label.letter.use.app.p2")
                </fo:block>
                <fo:list-block role="L"
                               provisional-distance-between-starts="0.3cm"
                               font-size="10pt"
                               line-height="10pt">
                    <fo:list-item padding-after="3px"
                                  padding-before="3px"
                                  role="LI">
                        <fo:list-item-label role="Lbl" end-indent="1em">
                            <fo:block>
                                <fo:inline>
                                    <fo:wrapper role="artifact">
                                        &#8226;
                                    </fo:wrapper>
                                </fo:inline>
                            </fo:block>
                        </fo:list-item-label>
                        <fo:list-item-body role="LBody" start-indent="2em">
                            <fo:block>
                                @Messages("label.letter.use.app.l1")
                            </fo:block>
                        </fo:list-item-body>
                    </fo:list-item>
                    <fo:list-item padding-after="3px"
                                  padding-before="3px"
                                  role="LI">
                        <fo:list-item-label role="Lbl" end-indent="1em">
                            <fo:block>
                                <fo:inline>
                                    <fo:wrapper role="artifact">
                                        &#8226;
                                    </fo:wrapper>
                                </fo:inline>
                            </fo:block>
                        </fo:list-item-label>
                        <fo:list-item-body role="LBody" start-indent="2em">
                            <fo:block>
                                <fo:block>
                                    @Messages("label.letter.use.app.l2")
                                </fo:block>
                            </fo:block>
                        </fo:list-item-body>
                    </fo:list-item>
                </fo:list-block>
                <fo:block role="H2"
                          font-family="OpenSans-Bold"
                          font-weight="bold"
                          padding-before="8px"
                          padding-after="6px">
                    <fo:block>
                        @Messages("label.letter.child.trust.heading")
                    </fo:block>
                </fo:block>
                <fo:block role="P"
                          space-after="5px"
                          padding-before="6px"
                          padding-after="6px">
                    @Messages("label.letter.child.trust.p")
                </fo:block>
                @if(lang.eq("en")) {
                    <fo:block role="H2"
                              font-family="OpenSans-Bold"
                              font-weight="bold"
                              padding-before="8px"
                              padding-after="6px">
                        <fo:block>
                            @Messages("label.letter.welsh.heading")
                        </fo:block>
                    </fo:block>
                    <fo:block role="P"
                              padding-after="6px"
                              padding-before="6px">
                        <fo:block>
                            @Messages("label.letter.welsh.p.pdf")
                        </fo:block>
                    </fo:block>
                }
                <fo:block role="H2"
                          font-family="OpenSans-Bold"
                          font-weight="bold"
                          padding-before="8px"
                          padding-after="6px">
                    <fo:block>
                        @Messages("label.letter.protect.heading")
                    </fo:block>
                </fo:block>
                <fo:block role="P"
                          space-after="10px"
                          padding-before="6px"
                          padding-after="6px">
                    @Html(Messages("label.letter.protect.p.pdf"))
                </fo:block>
                <fo:block role="Div"
                          font-size="16pt"
                          line-height="16pt">
                    <fo:block role="P"
                              padding-before="4px"
                              padding-after="4px">
                        @Messages("label.information_is_available_in_large_print_audio_tape_and_braille_formats")
                    </fo:block>
                    <fo:block role="P"
                              padding-before="4px"
                              padding-after="4px">
                        @Messages("label.text_relay_service_prefix_number_18001")
                    </fo:block>
                </fo:block>

        </fo:flow> <!-- closes the flow element-->
    </fo:page-sequence> <!-- closes the page-sequence -->
</fo:root>